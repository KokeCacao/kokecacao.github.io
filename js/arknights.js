let wifusDict = {
  "推进之王": [6, new Set([
    [
      "高级资深干员",
      "先锋干员",
    ],
    [
      "高级资深干员",
      "费用回复",
    ],
    [
      "高级资深干员",
      "输出",
      "费用回复",
    ],
    [
      "高级资深干员",
      "先锋干员",
      "费用回复",
    ],
    [
      "高级资深干员",
      "先锋干员",
      "输出",
    ],
    [
      "高级资深干员",
      "先锋干员",
      "近战位",
    ],
    [
      "高级资深干员",
      "近战位",
      "费用回复",
    ],
  ])],
  "德克萨斯": [6, new Set([
    [
      "控场",
      "费用回复",
    ],
    [
      "先锋干员",
      "控场",
    ],
    [
      "近战位",
      "控场",
      "费用回复",
    ],
    [
      "先锋干员",
      "近战位",
      "控场",
    ],
    [
      "先锋干员",
      "控场",
      "费用回复",
    ],
    [
      "资深干员",
      "先锋干员",
      "控场",
    ],
    [
      "资深干员",
      "控场",
      "费用回复",
    ],
    [
      "资深干员",
      "控场",
      "费用回复",
    ],
    [
      "近战位",
      "控场",
      "50%",
    ],
    [
      "资深干员",
      "近战位",
      "控场",
      "50%",
    ],
  ])],
  "凛冬": [5, new Set([
    [
      "支援",
      "费用回复",
    ],
    [
      "先锋干员",
      "支援",
    ],
    [
      "先锋干员",
      "支援",
      "费用回复",
    ],
    [
      "先锋干员",
      "近战位",
      "支援",
    ],
    [
      "近战位",
      "支援",
      "费用回复",
    ],
    [
      "资深干员",
      "近战位",
      "支援",
      "50%", // 诗怀雅
    ],
    [
      "资深干员",
      "支援",
      "费用回复",
    ],
    [
      "资深干员",
      "先锋干员",
      "支援",
    ],
    [
      "近战位",
      "控场",
      "50%",
    ],
    [
      "资深干员",
      "近战位",
      "控场",
      "50%",
    ],
  ])],
  "斯卡蒂": [6, new Set([
    [
      "高级资深干员",
      "生存",
    ],
  ])],
  "银灰": [6, new Set([
    [
      "高级资深干员",
    ],
  ])],
  "陈": [6, new Set([
    [
      "高级资深干员",
    ],
  ])],
  "幽灵鲨": [5, new Set([
    [
      "资深干员",
    ],
  ])],
  "因陀罗": [5, new Set([
    [
      "资深干员",
      "50%", // 诗怀雅
    ],
  ])],
  "诗怀雅": [6, new Set([
    [
      "资深干员",
    ],
  ])],
  "霜叶": [4, new Set([
    [
      "输出",
      "减速",
      "90%", // 真理, 夜魔
    ],
    [
      "近战位",
      "减速",
      "90%", // 食铁兽
    ],
    [
      "近卫干员",
      "减速",
    ],
    [
      "近卫干员",
      "近战位",
      "减速",
    ],
    [
      "近卫干员",
      "输出",
      "减速",
    ],
    [
      "近战位",
      "输出",
      "减速",
    ],
  ])],
  "杜宾": [4, new Set([
    [
      "支援",
      "输出",
      "90%", // 诗怀雅
    ],
    [
      "近战位",
      "支援",
      "输出",
      "90%", // 诗怀雅
    ],
    [
      "近卫干员",
      "支援",
      "输出",
      "90%", // 诗怀雅
    ],
    [
      "近战位",
      "支援",
      "90%", // 凛冬, 诗怀雅
    ],
    [
      "近卫干员",
      "支援",
    ],
    [
      "近战位",
      "近卫干员",
      "支援",
    ],
  ])],
  "能天使": [6, new Set([
    [
      "高级资深干员",
    ],
  ])],
  "陨星": [5, new Set([
    [
      "群攻",
      "削弱",
    ],
    [
      "狙击干员",
      "群攻",
      "削弱",
    ],
    [
      "远程位",
      "群攻",
      "削弱",
    ],
    [
      "资深干员",
      "远程位",
      "群攻",
    ],
    [
      "资深干员",
      "狙击干员",
      "群攻",
    ],
    [
      "资深干员",
      "群攻",
      "削弱",
    ],
    [
      "资深干员",
      "狙击干员",
      "削弱",
    ],
  ])],
  "守林人": [5, new Set([
    [
      "爆发",
    ],
    [
      "输出",
      "爆发",
    ],
    [
      "狙击干员",
      "爆发",
    ],
    [
      "远程位",
      "爆发",
    ],
    [
      "狙击干员",
      "远程位",
      "爆发",
    ],
    [
      "狙击干员",
      "输出",
      "爆发",
    ],
    [
      "远程位",
      "输出",
      "爆发",
    ],
    [
      "资深干员",
      "爆发",
    ],
    [
      "资深干员",
      "输出",
      "爆发",
    ],
    [
      "资深干员",
      "狙击干员",
      "爆发",
    ],
    [
      "资深干员",
      "远程位",
      "爆发",
    ],
  ])],
  "杰西卡": [4, new Set([
    [
      "远程位",
      "生存",
    ],
    [
      "狙击干员",
      "生存",
    ],
    [
      "狙击干员",
      "输出",
      "生存",
    ],
    [
      "狙击干员",
      "远程位",
      "生存",
    ],
  ])],
  "流星": [4, new Set([
    [
      "狙击干员",
      "削弱",
      "90%", // 陨星
    ],
    [
      "狙击干员",
      "远程位",
      "削弱",
      "90%", // 陨星
    ],
    [
      "狙击干员",
      "输出",
      "削弱",
    ],
    [
      "削弱",
      "50%" // 夜烟
    ],
    [
      "远程位",
      "削弱",
      "50%" // 夜烟, 90% 陨星, 初雪
    ],
    [
      "输出",
      "削弱",
      "50%" // 夜烟
    ],
    [
      "远程位",
      "输出",
      "削弱",
      "50%" // 夜烟
    ],
  ])],
  "白雪": [4, new Set([
    [
      "狙击干员",
      "减速",
    ],
    [
      "狙击干员",
      "群攻",
      "减速",
    ],
    [
      "狙击干员",
      "远程位",
      "减速",
    ],
    [
      "群攻",
      "减速",
      "50%" // 格雷伊
    ],
    [
      "远程位",
      "群攻",
      "减速",
      "50%" // 格雷伊
    ],
  ])],
  "火神": [5, new Set([
    [
      "重装干员",
      "生存",
    ],
    [
      "生存",
      "防护",
    ],
    [
      "输出",
      "生存",
      "防护",
    ],
    [
      "重装干员",
      "近战位",
      "生存",
    ],
    [
      "重装干员",
      "输出",
      "生存",
    ],
    [
      "重装干员",
      "生存",
      "防护",
    ],
    [
      "近战位",
      "生存",
      "防护",
    ],
    [
      "资深干员",
      "重装干员",
      "生存",
    ],
    [
      "资深干员",
      "生存",
      "防护",
    ],
  ])],
  "可颂": [5, new Set([
    [
      "防护",
      "位移",
    ],
    [
      "重装干员",
      "位移",
    ],
    [
      "重装干员",
      "近战位",
      "位移",
    ],
    [
      "重装干员",
      "防护",
      "位移",
    ],
    [
      "近战位",
      "防护",
      "位移",
    ],
    [
      "资深干员",
      "防护",
      "位移",
    ],
    [
      "资深干员",
      "重装干员",
      "位移",
    ],
  ])],
  "雷蛇": [5, new Set([
    [
      "重装干员",
      "输出",
      "50%" // 火神
    ],
    [
      "输出",
      "防护",
      "50%" // 火神
    ],
    [
      "重装干员",
      "近战位",
      "输出",
      "50%" // 火神
    ],
    [
      "重装干员",
      "输出",
      "防护",
      "50%" // 火神
    ],
    [
      "近战位",
      "输出",
      "防护",
      "50%" // 火神
    ],
    [
      "资深干员",
      "重装干员",
      "输出",
      "50%" // 火神
    ],
    [
      "资深干员",
      "输出",
      "防护",
      "50%" // 火神
    ],
  ])],
  "白面鸮": [5, new Set([
    [
      "医疗干员",
      "支援",
      "50%" // 华法琳
    ],
    [
      "治疗",
      "支援",
      "50%" // 华法琳
    ],
    [
      "远程位",
      "支援",
      "50%" // 华法琳
    ],
    [
      "医疗干员",
      "治疗",
      "支援",
      "50%" // 华法琳
    ],
    [
      "远程位",
      "治疗",
      "支援",
      "50%" // 华法琳
    ],
    [
      "医疗干员",
      "远程位",
      "支援",
      "50%" // 华法琳
    ],
    [
      "资深干员",
      "医疗干员",
      "支援",
      "50%" // 华法琳
    ],
    [
      "资深干员",
      "治疗",
      "支援",
      "50%" // 华法琳
    ],
  ])],
  "华法琳": [5, new Set([
    [
      "医疗干员",
      "支援",
      "50%" // 白面鸮
    ],
    [
      "治疗",
      "支援",
      "50%" // 白面鸮
    ],
    [
      "远程位",
      "支援",
      "50%" // 白面鸮
    ],
    [
      "医疗干员",
      "治疗",
      "支援",
      "50%" // 白面鸮
    ],
    [
      "远程位",
      "治疗",
      "支援",
      "50%" // 白面鸮
    ],
    [
      "医疗干员",
      "远程位",
      "支援",
      "50%" // 白面鸮
    ],
    [
      "资深干员",
      "医疗干员",
      "支援",
      "50%" // 白面鸮
    ],
    [
      "资深干员",
      "治疗",
      "支援",
      "50%" // 白面鸮
    ],
  ])],
  "真理": [5, new Set([
    [
      "辅助干员",
      "输出",
    ],
    [
      "辅助干员",
      "输出",
      "减速"
    ],
    [
      "辅助干员",
      "远程位",
      "输出",
    ],
    [
      "资深干员",
      "辅助干员",
      "输出",
    ],
    [
      "资深干员",
      "辅助干员",
      "减速",
    ],
    [
      "远程位",
      "输出",
      "减速",
      "50%" // 夜魔
    ],
    [
      "资深干员",
      "远程位",
      "减速",
      "50%" // 夜魔
    ],
    [
      "资深干员",
      "输出",
      "减速",
      "50%" // 夜魔
    ],
  ])],
  "初雪": [5, new Set([
    [
      "辅助干员",
      "削弱",
    ],
    [
      "辅助干员",
      "远程位",
      "削弱",
    ],
    [
      "资深干员",
      "辅助干员",
      "削弱",
    ],
    [
      "资深干员",
      "削弱",
      "50%" // 陨星
    ],
    [
      "资深干员",
      "远程位",
      "削弱",
      "50%" // 陨星
    ],
  ])],
  "梅尔": [5, new Set([
    [
      "召唤",
    ],
    [
      "辅助干员",
      "控场",
    ],
    [
      "辅助干员",
      "召唤",
    ],
    [
      "远程位",
      "召唤",
    ],
    [
      "远程位",
      "控场",
    ],
    [
      "控场",
      "召唤",
    ],
    [
      "辅助干员",
      "控场",
      "召唤",
    ],
    [
      "辅助干员",
      "远程位",
      "控场",
    ],
    [
      "辅助干员",
      "远程位",
      "召唤",
    ],
    [
      "资深干员",
      "召唤",
    ],
    [
      "资深干员",
      "辅助干员",
      "控场",
    ],
    [
      "资深干员",
      "辅助干员",
      "召唤",
    ],
    [
      "资深干员",
      "远程位",
      "召唤",
    ],
    [
      "资深干员",
      "远程位",
      "控场",
    ],
    [
      "资深干员",
      "控场",
      "召唤",
    ],
  ])],
  "夜魔": [5, new Set([
    [
      "治疗",
      "减速",
    ],
    [
      "治疗",
      "输出",
    ],
    [
      "术师干员",
      "治疗",
    ],
    [
      "治疗",
      "输出",
      "减速",
    ],
    [
      "术师干员",
      "远程位",
      "治疗",
    ],
    [
      "术师干员",
      "治疗",
      "减速",
    ],
    [
      "术师干员",
      "治疗",
      "输出",
    ],
    [
      "远程位",
      "治疗",
      "减速",
    ],
    [
      "术师干员",
      "输出",
      "减速",
    ],
    [
      "资深干员",
      "术师干员",
    ],
    [
      "资深干员",
      "术师干员",
      "远程位",
    ],
    [
      "资深干员",
      "术师干员",
      "输出",
    ],
    [
      "资深干员",
      "治疗",
      "减速",
    ],
    [
      "资深干员",
      "治疗",
      "输出",
    ],
    [
      "资深干员",
      "术师干员",
      "治疗",
    ],
    [ // 不确定这个是不是真的, 4条?
      "资深干员",
      "治疗",
      "输出",
      "减速",
    ],
    [ // 不确定这个是不是真的, 根据上一条推测
      "资深干员",
      "输出",
      "减速",
    ],
    [
      "远程位",
      "输出",
      "减速",
      "50%" // 真理
    ],
    [
      "资深干员",
      "远程位",
      "减速",
      "50%" // 真理
    ],
    [
      "资深干员",
      "减速",
      "输出",
      "50%" // 真理
    ],
  ])],
  "夜烟": [4, new Set([
    [
      "术师干员",
      "削弱",
    ],
    [
      "术师干员",
      "远程位",
      "削弱",
    ],
    [
      "术师干员",
      "输出",
      "削弱",
    ],
    [
      "削弱",
      "50%" // 流星, 90% 陨星, 初雪
    ],
    [
      "远程位",
      "削弱",
      "50%" // 流星, 90% 陨星, 初雪
    ],
    [
      "输出",
      "削弱",
      "50%" // 流星
    ],
    [
      "远程位",
      "输出",
      "削弱",
      "50%" // 流星
    ],
  ])],
  "格雷伊": [4, new Set([
    [
      "术师干员",
      "减速",
      "90%", // 夜魔
    ],
    [
      "术师干员",
      "远程位",
      "减速",
      "90%", // 夜魔
    ],
    [
      "术师干员",
      "群攻",
      "减速",
    ],
    [
      "群攻",
      "减速",
      "50%", // 白雪
    ],
    [
      "远程位",
      "群攻",
      "减速",
      "50%", // 白雪
    ],
  ])],
  "食铁兽": [5, new Set([
    [
      "特种干员",
      "减速",
    ],
    [
      "减速",
      "位移",
    ],
    [
      "资深干员",
      "近战位",
      "减速",
    ],
    [
      "特种干员",
      "减速",
      "位移",
    ],
    [
      "特种干员",
      "近战位",
      "减速",
    ],
    [
      "近战位",
      "减速",
      "位移",
    ],
    [
      "资深干员",
      "特种干员",
      "减速",
    ],
    [
      "资深干员",
      "减速",
      "位移",
    ],
    [
      "资深干员",
      "特种干员",
      "位移",
      "50%" // 悬心
    ],
  ])],
  "狮蝎": [5, new Set([
    [
      "特种干员",
      "生存",
    ],
    [
      "特种干员",
      "近战位",
      "生存",
    ],
    [
      "特种干员",
      "输出",
      "生存",
    ],
    [
      "资深干员",
      "特种干员",
      "生存",
    ],
    [
      "特种干员",
      "输出",
      "50%", // 崖心
    ],
    [
      "特种干员",
      "近战位",
      "输出",
      "50%", // 崖心
    ],
    [
      "资深干员",
      "特种干员",
      "输出",
      "50%", // 崖心
    ],
  ])],
  "崖心": [5, new Set([
    [
      "输出",
      "位移",
    ],
    [
      "特种干员",
      "输出",
      "位移",
    ],
    [
      "近战位",
      "输出",
      "位移",
    ],
    [
      "资深干员",
      "输出",
      "位移",
    ],
    [
      "特种干员",
      "输出",
      "50%", // 狮蝎
    ],
    [
      "特种干员",
      "近战位",
      "输出",
      "50%", // 狮蝎
    ],
    [
      "资深干员",
      "特种干员",
      "输出",
      "50%", // 狮蝎
    ],
    [
      "资深干员",
      "特种干员",
      "位移",
      "50%", // 食铁兽
    ],
  ])],
  "红": [5, new Set([
    [
      "控场",
      "快速复活",
    ],
    [
      "特种干员",
      "控场",
    ],
    [
      "特种干员",
      "近战位",
      "控场",
    ],
    [
      "特种干员",
      "控场",
      "快速复活",
    ],
    [
      "近战位",
      "控场",
      "快速复活",
    ],
    [
      "资深干员",
      "快速复活",
    ],
    [
      "资深干员",
      "特种干员",
      "快速复活",
    ],
    [
      "资深干员",
      "近战位",
      "快速复活",
    ],
    [
      "资深干员",
      "控场",
      "快速复活",
    ],
    [
      "资深干员",
      "特种干员",
      "控场",
    ],
    [
      "近战位",
      "控场",
      "50%" // 德克萨斯
    ],
    [
      "资深干员",
      "近战位",
      "控场",
      "50%" // 德克萨斯
    ],
  ])],
  "砾": [4, new Set([
    [
      "防护",
      "快速复活",
    ],
    [
      "特种干员",
      "防护",
    ],
    [
      "特种干员",
      "近战位",
      "防护",
    ],
    [
      "特种干员",
      "防护",
      "快速复活",
    ],
    [
      "近战位",
      "防护",
      "快速复活",
    ],
    [
      "快速复活",
      "50%" // 红
    ],
    [
      "近战位",
      "快速复活",
      "50%" // 红
    ],
    [
      "特种干员",
      "快速复活",
      "50%" // 红
    ],
    [
      "特种干员",
      "近战位",
      "快速复活",
      "50%" // 红
    ],
  ])],
  "阿消": [4, new Set([
    [
      "位移",
      "50%", // 暗锁
    ],
    [
      "近战位",
      "位移",
      "50%", // 暗锁
    ],
    [
      "特种干员",
      "位移",
      "50%", // 暗锁
    ],
    [
      "特种干员",
      "近战位",
      "位移",
      "50%", // 暗锁
    ],
    [
      "特种干员",
      "33%", // 暗锁, 砾
    ],
    [
      "特种干员",
      "近战位",
      "33%", // 暗锁, 砾
    ],
  ])],
  "暗锁": [4, new Set([
    [
      "位移",
      "50%", // 阿消
    ],
    [
      "近战位",
      "位移",
      "50%", // 阿消
    ],
    [
      "特种干员",
      "位移",
      "50%", // 阿消
    ],
    [
      "特种干员",
      "近战位",
      "位移",
      "50%", // 阿消
    ],
    [
      "特种干员",
      "33%", // 阿消, 砾
    ],
    [
      "特种干员",
      "近战位",
      "33%", // 阿消, 砾
    ],
  ])],
  "THRM-EX": [1, new Set([
    [
      "爆发",
      "支援机械",
    ],
    [
      "近战位",
      "爆发",
    ],
    [
      "特种干员",
      "支援机械",
    ],
    [
      "特种干员",
      "爆发",
    ],
    [
      "近战位",
      "爆发",
      "支援机械",
    ],
    [
      "特种干员",
      "爆发",
      "支援机械",
    ],
    [
      "特种干员",
      "近战位",
      "支援机械",
    ],
    [
      "特种干员",
      "近战位",
      "爆发",
    ],
    [
      "近战位",
      "支援机械",
      "50%" // Castle-3
    ],
    [
      "支援机械",
      "50%" // Castle-3
    ],
  ])],
};

let selected = new Set();

let result5Star = [];
let result4Star = [];
let result3Star = [];
let result2Star = [];
let result1Star = [];

function isSuperset(set, subset) {
  for (let elem of subset) {
    if (!set.has(elem)) {
      return false;
    }
  }
  return true;
}

function getStars(stars) {
  switch (stars) {
    case 6:
      return "★★★★★★";
    case 5:
      return "★★★★★☆";
    case 4:
      return "★★★★☆☆";
    case 3:
      return "★★★☆☆☆";
    case 2:
      return "★★☆☆☆☆";
    case 1:
      return "★☆☆☆☆☆";
  }
}

function clearAllSelection() {
  let listOfButton = document.querySelector("#tag-list").querySelectorAll("a");
  listOfButton.forEach((button) => {
    if (button.className === "btn clicked"
      // && !button.textContent.includes("%")
    ) {
      let name = button.firstChild.nodeValue;
      button.className = "btn uncliked";
      let error = selected.delete(name);
      if (!error) alert("Previous removal unsuccessful. Element does not exist in the first place.");
    }
  });
  if (selected.size !== 0) {
    alert("Error: slection size !== 0 when cleared");
  }
}

function appendEmpty() {
  let empty = document.createElement("h3");
  empty.className = "center";
  empty.textContent = "没有结果的说~";
  document.querySelector("#result").appendChild(document.createElement("br"));
  document.querySelector("#result").appendChild(document.createElement("br"));
  document.querySelector("#result").appendChild(empty);
  document.querySelector("#result").appendChild(document.createElement("br"));
  document.querySelector("#result").appendChild(document.createElement("br"));
}

function clearAllResult() {
  // cleaning old calculation
  let old = document.querySelector("#result");
  while (old.firstChild) {
    old.removeChild(old.lastChild);
  }

  result5Star = [];
  result4Star = [];
  result3Star = [];
  result2Star = [];
  result1Star = [];
}

function init() {
  clearAllSelection();
  clearAllResult();
  // initialize selected set
  let listOfButton = document.querySelector("#tag-list").querySelectorAll("a");
  listOfButton.forEach((button) => {
    // set initial buttons containing % to clicked
    if (button.textContent.includes("%")) {
      button.className = "btn clicked";
      let name = button.firstChild.nodeValue;
      selected.add(name);
    }
  });
  appendEmpty();
}

function createWifu(stars, name, tagsList) {
  let li = document.createElement("li");
  let div = document.createElement("div");
  div.className = "floatbox";
  let sec = document.createElement("section");
  let h3 = document.createElement("h3");
  h3.innerText = getStars(stars) + " | " + name;
  let ol = document.createElement("ol");
  ol.className = "orderedlist";

  let listOfCodes = tagsList.map((set) => {
    let innerLi = document.createElement("li");
    Array.from(set).map((elem) => {
      let code = document.createElement("code");
      code.innerText = elem;
      return code;
    }).forEach((code) => {
      innerLi.appendChild(code);
      innerLi.appendChild(document.createTextNode(" "));
    });
    return innerLi;
  });
  listOfCodes.forEach((li) => {
    ol.appendChild(li);
  });

  sec.appendChild(h3);
  sec.appendChild(ol);
  div.appendChild(sec);
  li.appendChild(div);
  return li;
}

$(window).on("load", function () {
  init();

  // get the main chunk of html we want to process
  let tags = document.querySelector("#tag-list");

  // a list of tag category
  let listOfCategory = tags.querySelectorAll("li");

  // tags
  listOfCategory.forEach((lis) => {
    let buttons = lis.querySelectorAll("a");
    buttons.forEach((button) => {
      button.onclick = function () {
        let name = button.firstChild.nodeValue;

        if (button.className === "btn uncliked") {
          button.className = "btn clicked";
          selected.add(name);

        } else if (button.className === "btn clicked") {
          button.className = "btn uncliked";
          let error = selected.delete(name);
          if (!error) alert("Previous removal unsuccessful. Element does not exist in the first place.");
        }

      };
    })
  });

  let clear = document.querySelector("#clear");
  clear.onclick = init;

  let calculate = document.querySelector("#calculate");
  calculate.onclick = function () {
    clearAllResult();

    for (let wifuName in wifusDict) {
      let [stars, wifuTagList] = wifusDict[wifuName];

      // search
      let result = new Set();
      for (let goodTags of wifuTagList) {
        if (isSuperset(selected, goodTags)) {
          result.add(goodTags);
        }
      }

      // congregate result
      if (result.size !== 0) {
        if (stars == 5) {
          result5Star.push([wifuName, result]);
        } else if (stars == 4) {
          result4Star.push([wifuName, result]);
        } else if (stars == 3) {
          result3Star.push([wifuName, result]);
        } else if (stars == 2) {
          result2Star.push([wifuName, result]);
        } else {
          result1Star.push([wifuName, result]);
        }
      }

    }

    // output
    let old = document.querySelector("#result");

    result5Star.map(([wifuName, result]) => {
      return createWifu(5, wifuName, Array.from(result));
    }).forEach((elem) => {
      old.appendChild(elem);
    });

    result4Star.map(([wifuName, result]) => {
      return createWifu(4, wifuName, Array.from(result));
    }).forEach((elem) => {
      old.appendChild(elem);
    });

    result3Star.map(([wifuName, result]) => {
      return createWifu(3, wifuName, Array.from(result));
    }).forEach((elem) => {
      old.appendChild(elem);
    });

    result2Star.map(([wifuName, result]) => {
      return createWifu(2, wifuName, Array.from(result));
    }).forEach((elem) => {
      old.appendChild(elem);
    });

    result1Star.map(([wifuName, result]) => {
      return createWifu(1, wifuName, Array.from(result));
    }).forEach((elem) => {
      old.appendChild(elem);
    });

    if (!old.firstChild) {
      appendEmpty();
    }

  };
});
